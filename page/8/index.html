<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Wii</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Wii">
<meta property="og:url" content="http://wii.pub/page/8/index.html">
<meta property="og:site_name" content="Wii">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Wii" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Wii</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://wii.pub"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-tools/vim/plugin" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/30/tools/vim/plugin/" class="article-date">
  <time datetime="2020-12-30T11:00:00.000Z" itemprop="datePublished">2020-12-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a>►<a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/vim/">vim</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/30/tools/vim/plugin/">vim 插件</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Command-T"><a href="#Command-T" class="headerlink" title="Command-T"></a>Command-T</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><strong>安装Ruby</strong></p>
<ul>
<li><p>源码安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./configure --prefix=/home/work/sunzhenkai/bin/ruby --enable-shared</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make -j24</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make install</span></span><br></pre></td></tr></table></figure></li>
<li><p>使用ruby-install安装</p>
<ul>
<li><p>Github</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/postmodern/ruby-install.git">https://github.com/postmodern/ruby-install.git</a></li>
</ul>
</li>
<li><p>安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ruby-install</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./bin/ruby-install --install-dir /home/work/sunzhenkai/bin/ruby ruby</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p><strong>异常</strong></p>
<ul>
<li><p>找不到 libruby.so.***</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/work/sunzhenkai/bin/ruby/lib</span><br></pre></td></tr></table></figure></li>
<li><p>Command-T plugin error: could not load the C extension</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /path/to/command-t</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> rake make</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>Github</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/wincent/command-t">https://github.com/wincent/command-t</a></li>
</ul>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h1 id="NERDTree"><a href="#NERDTree" class="headerlink" title="NERDTree"></a>NERDTree</h1><h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Plugin &#x27;scrooloose/nerdtree&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### 注册热键</span></span></span><br><span class="line">map &lt;C-n&gt; :NERDTreeToggle&lt;CR&gt;  # ctrl+n 唤起 NERDTree</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### 切换工作台和目录</span></span></span><br><span class="line">ctrl + w + h    光标 focus 左侧树形目录</span><br><span class="line">ctrl + w + l    光标 focus 右侧文件显示窗口</span><br><span class="line">ctrl + w + w    光标自动在左右侧窗口切换</span><br><span class="line">ctrl + w + r    移动当前窗口的布局位置</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> * 为常用</span></span><br><span class="line">o       在已有窗口中打开文件、目录或书签，并跳到该窗口</span><br><span class="line">go      在已有窗口 中打开文件、目录或书签，但不跳到该窗口</span><br><span class="line">t       在新 Tab 中打开选中文件/书签，并跳到新 Tab</span><br><span class="line">T       在新 Tab 中打开选中文件/书签，但不跳到新 Tab</span><br><span class="line">i       split 一个新窗口打开选中文件，并跳到该窗口</span><br><span class="line">gi      split 一个新窗口打开选中文件，但不跳到该窗口</span><br><span class="line">s       vsplit 一个新窗口打开选中文件，并跳到该窗口</span><br><span class="line">gs      vsplit 一个新 窗口打开选中文件，但不跳到该窗口</span><br><span class="line">!       执行当前文件</span><br><span class="line">O       递归打开选中 结点下的所有目录</span><br><span class="line">m       * 文件操作：复制、删除、移动等</span><br><span class="line">x       收起当前打开的目录</span><br><span class="line">X       收起所有打开的目录</span><br><span class="line">e       以文件管理的方式打开选中的目录</span><br><span class="line">D       删除书签</span><br><span class="line">P       大写，跳转到当前根路径</span><br><span class="line">p       小写，跳转到光标所在的上一级路径</span><br><span class="line">K       跳转到第一个子路径</span><br><span class="line">J       跳转到最后一个子路径</span><br><span class="line">&lt;C-j&gt; 和 &lt;C-k&gt;       在同级目录和文件间移动，忽略子目录和子文件</span><br><span class="line">U       设置上级目录为跟路径，但是维持原来目录打开的状态</span><br><span class="line">R       刷新当前根路径</span><br><span class="line">I       * 显示或者不显示隐藏文件</span><br><span class="line">f       打开和关闭文件过滤器</span><br><span class="line">q       关闭 NERDTree</span><br><span class="line">A       全屏显示 NERDTree，或者关闭全屏</span><br><span class="line"></span><br><span class="line">r       * 刷新光标所在的目录</span><br><span class="line">C       * 将根路径设置为光标所在的目录</span><br><span class="line">u       * 设置上级目录为根路径</span><br><span class="line">cd		  * 设置当前工作路径</span><br></pre></td></tr></table></figure>

<h1 id="vim-javacomplete2"><a href="#vim-javacomplete2" class="headerlink" title="vim-javacomplete2"></a>vim-javacomplete2</h1><h2 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Plugin &#x27;artur-shaik/vim-javacomplete2&#x27;</span><br></pre></td></tr></table></figure>

<h1 id="YouCompleteMe"><a href="#YouCompleteMe" class="headerlink" title="YouCompleteMe"></a>YouCompleteMe</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1 下载</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># .vimrc</span></span></span><br><span class="line">Plugin &#x27;Valloric/YouCompleteMe&#x27;</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># vim</span></span></span><br><span class="line">:PluginInstall</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2 Mac OS</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 2.1 依赖</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> brew install mono</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> brew install go</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 2.2 编译</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ~/.vim/bundle/YouCompleteMe</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git submodule update --init --recursive</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./install.py --all --clangd-completer</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://wii.pub/2020/12/30/tools/vim/plugin/" data-id="ckp6tfitv005y4gfy9efy6dnp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vim/" rel="tag">vim</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-tools/vim/tips" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/30/tools/vim/tips/" class="article-date">
  <time datetime="2020-12-30T11:00:00.000Z" itemprop="datePublished">2020-12-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a>►<a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/vim/">vim</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/30/tools/vim/tips/">vim tips</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="Common"><a href="#Common" class="headerlink" title="Common"></a>Common</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 命令</span></span><br><span class="line">;  			重复上一个动作</span><br><span class="line">:!! 		重复上一条命令</span><br><span class="line">:shell	运行shell</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 窗口</span></span><br><span class="line">:tabnew			新建窗口</span><br><span class="line">:resize/res 60/+5/-5	调整窗口高度 </span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 宽度</span></span></span><br><span class="line">:vertical resize 80</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 复制粘贴</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 复制一个当前单次</span></span></span><br><span class="line">byw    b: 到单次首; y: yank; w: for word</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># command mode 粘贴内容</span></span></span><br><span class="line">C-r&quot;  &quot;: default register</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 目录</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># NERDTree</span></span></span><br><span class="line">r     刷新光标所在的目录</span><br><span class="line">C     将根路径设置为光标所在的目录</span><br><span class="line">u     设置上级目录为根路径</span><br><span class="line">cd    设置当前工作路径</span><br><span class="line">m     文件操作：复制、删除、移动等</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 文件内查找</span></span></span><br><span class="line">/&#123;pattern&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 跨文件查找:q</span></span></span><br><span class="line">:vimgrep /&#123;pattern&#125;/g [file]    # :vimgrep /foobar/g **</span><br><span class="line">:cn[f]    下一个匹配[文件]</span><br><span class="line">:cp[f]    上一个匹配[文件]</span><br><span class="line">:cr/cla   回到开始/结束</span><br><span class="line">:copen    打开匹配列表</span><br></pre></td></tr></table></figure>

<h1 id="行内移动"><a href="#行内移动" class="headerlink" title="行内移动"></a>行内移动</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">h	 左移一位</span><br><span class="line">l	 右移一位</span><br><span class="line">0	 行首</span><br><span class="line"><span class="meta">$</span><span class="bash">  行尾</span></span><br><span class="line">^  当前行的第一个非空白符位置</span><br><span class="line">fx 移动当当前行的下一个x处</span><br><span class="line">Fx 移动当当前行的上一个x处</span><br><span class="line">tx 移动到x的左边一个位置</span><br><span class="line">w  往后移动一个词</span><br><span class="line">b  往前移动一个词</span><br><span class="line">)  移动到下一个句子</span><br><span class="line">(  移动到上一个句子</span><br></pre></td></tr></table></figure>

<h1 id="文件内移动"><a href="#文件内移动" class="headerlink" title="文件内移动"></a>文件内移动</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;C-F&gt;  向下移动一屏</span><br><span class="line">&lt;C-B&gt;  向上移动一屏</span><br><span class="line">G      移动到文件末尾</span><br><span class="line">nG     移动到第n行</span><br><span class="line">gg     文件首</span><br><span class="line">H      移动光标到屏幕上部</span><br><span class="line">M      移动光标到屏幕中部</span><br><span class="line">L      移动光标到屏幕底部</span><br><span class="line">*      移动到光标所在字符串的下个位置</span><br><span class="line"><span class="meta">#</span><span class="bash">      移动到光标所在字符串的上个位置</span></span><br><span class="line">/s     向后搜索字符串s</span><br><span class="line">?s     向前搜索字符串s</span><br><span class="line">ma     打标签，标签名为a</span><br><span class="line">`a     跳转到标签a</span><br><span class="line">`.     跳转到上次编辑的地方</span><br></pre></td></tr></table></figure>

<h1 id="Commands"><a href="#Commands" class="headerlink" title="Commands"></a>Commands</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> run shell commands</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 1</span></span></span><br><span class="line">C-z			vim 后台运行</span><br><span class="line">fg 			调回vim</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 2</span></span></span><br><span class="line">:!&#123;cmd&#125;</span><br></pre></td></tr></table></figure>

<h1 id="查找替换"><a href="#查找替换" class="headerlink" title="查找替换"></a>查找替换</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 搜索</span></span><br><span class="line">[ESC]</span><br><span class="line">/word</span><br><span class="line">n: next; N: previous</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 替换</span></span><br><span class="line">:%s/foo/bar/g</span><br><span class="line">:5,10s/foo/bar/gc   # with confirm</span><br></pre></td></tr></table></figure>

<h1 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h1><p><strong>注释</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Esc</span><br><span class="line">Ctrl + v</span><br><span class="line">Shift + i (I)</span><br><span class="line"><span class="meta">#</span><span class="bash"> select multi lines</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> input comments</span></span><br><span class="line">Esc</span><br></pre></td></tr></table></figure>

<p><strong>取消注释</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Esc</span><br><span class="line">Ctrl + v</span><br><span class="line"><span class="meta">#</span><span class="bash"> select</span> </span><br><span class="line">d / x</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://wii.pub/2020/12/30/tools/vim/tips/" data-id="ckp6tfitw00614gfy6rtcff8x" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vim/" rel="tag">vim</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-tools/vim/usage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/30/tools/vim/usage/" class="article-date">
  <time datetime="2020-12-30T11:00:00.000Z" itemprop="datePublished">2020-12-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a>►<a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/vim/">vim</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/30/tools/vim/usage/">vim usage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p><strong>三种模式</strong>: </p>
<ul>
<li>输入模式（<code>Insert mode</code>）</li>
<li>末行模式（<code>Last line mode</code>）</li>
<li>命令模式（<code>Command mode</code>）</li>
</ul>
<p><strong>切换:</strong></p>
<table>
<thead>
<tr>
<th>按键</th>
<th>到达的模式</th>
</tr>
</thead>
<tbody><tr>
<td><code>i,o,r</code></td>
<td>输入模式 / 编辑模式</td>
</tr>
<tr>
<td><code>:</code></td>
<td>末行模式 / 指令列模式</td>
</tr>
<tr>
<td><code>ESC</code></td>
<td>命令模式 / 一般模式</td>
</tr>
</tbody></table>
<h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:e filename</code></td>
<td>Open <em>filename</em> for edition</td>
</tr>
<tr>
<td><code>:w</code></td>
<td>Save file</td>
</tr>
<tr>
<td><code>:q</code></td>
<td>Exit Vim</td>
</tr>
<tr>
<td><code>:q!</code></td>
<td>Quit without saving</td>
</tr>
<tr>
<td><code>:x</code></td>
<td>Write file (if changes has been made) and exit</td>
</tr>
<tr>
<td><code>:sav filename</code></td>
<td>Saves file as <em>filename</em></td>
</tr>
<tr>
<td><code>.</code></td>
<td>Repeats the last change made in normal mode</td>
</tr>
<tr>
<td><code>5.</code></td>
<td>Repeats 5 times the last change made in normal mode</td>
</tr>
</tbody></table>
<h2 id="移动"><a href="#移动" class="headerlink" title="移动"></a>移动</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>k or Up Arrow</code></td>
<td>move the cursor up one line</td>
</tr>
<tr>
<td><code>j or Down Arrow</code></td>
<td>move the cursor down one line</td>
</tr>
<tr>
<td><code>e</code></td>
<td>move the cursor to the end of the word</td>
</tr>
<tr>
<td><code>b</code></td>
<td>move the cursor to the begining of the word</td>
</tr>
<tr>
<td><code>0</code></td>
<td>行首</td>
</tr>
<tr>
<td><code>$</code></td>
<td>行尾</td>
</tr>
<tr>
<td><code>G</code></td>
<td>文尾</td>
</tr>
<tr>
<td><code>gg</code></td>
<td>文首</td>
</tr>
<tr>
<td><code>L</code></td>
<td>move the cursor to the end of the file</td>
</tr>
<tr>
<td><code>:59</code></td>
<td>跳转到指定（这里是第59）行</td>
</tr>
<tr>
<td>`20</td>
<td>`</td>
</tr>
<tr>
<td><code>%</code></td>
<td>Move cursor to matching parenthesis</td>
</tr>
<tr>
<td><code>[[</code></td>
<td>Jump to function start</td>
</tr>
<tr>
<td><code>[&#123;</code></td>
<td>Jump to block start</td>
</tr>
</tbody></table>
<h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>/word</code></td>
<td>Search <em>word</em> from top to bottom</td>
</tr>
<tr>
<td><code>?word</code></td>
<td>Search <em>word</em> from bottom to top</td>
</tr>
<tr>
<td><code>*</code></td>
<td>Search the word under cursor</td>
</tr>
<tr>
<td><code>/\cstring</code></td>
<td>Search <em>STRING</em> or <em>string</em>, case insensitive</td>
</tr>
<tr>
<td><code>/jo[ha]n</code></td>
<td>Search <em>john</em> or <em>joan</em></td>
</tr>
<tr>
<td><code>/\&lt; the</code></td>
<td>Search the, theatre or <em>then</em></td>
</tr>
<tr>
<td><code>/the\&gt;</code></td>
<td>Search <em>the</em> or <em>breathe</em></td>
</tr>
<tr>
<td><code>/\&lt; the\&gt;</code></td>
<td>Search <em>the</em></td>
</tr>
<tr>
<td><code>/\&lt; ¦.\&gt;</code></td>
<td>Search all words of 4 letters</td>
</tr>
<tr>
<td><code>/\/</code></td>
<td>Search <em>fred</em> but not <em>alfred</em> or <em>frederick</em></td>
</tr>
<tr>
<td><code>/fred|joe</code></td>
<td>Search <em>fred</em> or <em>joe</em></td>
</tr>
<tr>
<td><code>/\&lt;\d\d\d\d\&gt;</code></td>
<td>Search exactly 4 digits</td>
</tr>
<tr>
<td><code>/^\n\&#123;3&#125;</code></td>
<td>Find 3 empty lines</td>
</tr>
<tr>
<td><code>:bufdo /searchstr/</code></td>
<td>Search in all open files</td>
</tr>
<tr>
<td><code>bufdo %s/something/somethingelse/g</code></td>
<td>Search <em>something</em> in all the open buffers and replace it with<em>somethingelse</em></td>
</tr>
</tbody></table>
<h2 id="剪切-删除"><a href="#剪切-删除" class="headerlink" title="剪切(删除)"></a>剪切(删除)</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### 删除某行至文件结尾</span></span></span><br><span class="line">G		# 转到文件结尾</span><br><span class="line">:10,.d	# 删除第10行至当前行(文件结尾)</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### 删除10行至20行</span></span></span><br><span class="line">20G		# 跳转至第20行</span><br><span class="line">:10,.d	# 删除第10行至当前行</span><br></pre></td></tr></table></figure>



<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>dd</td>
<td>剪切当前行</td>
<td></td>
</tr>
<tr>
<td>ndd</td>
<td>n表示大于1的数字，剪切n行</td>
<td></td>
</tr>
<tr>
<td>dw</td>
<td>从光标处剪切至一个单子/单词的末尾，包括空格</td>
<td></td>
</tr>
<tr>
<td>de</td>
<td>从光标处剪切至一个单子/单词的末尾，不包括空格</td>
<td></td>
</tr>
<tr>
<td>d$</td>
<td>从当前光标剪切到行末</td>
<td></td>
</tr>
<tr>
<td>d0</td>
<td>从当前光标位置（不包括光标位置）剪切至行首</td>
<td></td>
</tr>
<tr>
<td>d3l</td>
<td>从光标位置（包括光标位置）向右剪切3个字符</td>
<td></td>
</tr>
<tr>
<td>d5G</td>
<td>将当前行（包括当前行）至第5行（不包括它）剪切</td>
<td></td>
</tr>
<tr>
<td>d3B</td>
<td>从当前光标位置（不包括光标位置）反向剪切3个单词</td>
<td></td>
</tr>
<tr>
<td>dH</td>
<td>剪切从当前行至所显示屏幕顶行的全部行</td>
<td></td>
</tr>
<tr>
<td>dM</td>
<td>剪切从当前行至命令M所指定行的全部行</td>
<td></td>
</tr>
<tr>
<td>dL</td>
<td>剪切从当前行至所显示屏幕底的全部行</td>
<td></td>
</tr>
<tr>
<td>n1,n2d</td>
<td>剪切n1到n2行</td>
<td>1,10d</td>
</tr>
<tr>
<td>n，$d</td>
<td>剪切从某行开始至文本末尾</td>
<td>8,$d: 删除第8行至末尾</td>
</tr>
</tbody></table>
<h2 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>yy</td>
<td>复制当前行</td>
<td></td>
</tr>
<tr>
<td>nyy</td>
<td>n表示大于1的数字，复制n行</td>
<td></td>
</tr>
<tr>
<td>yw</td>
<td>从光标处复制至一个单子/单词的末尾，包括空格</td>
<td></td>
</tr>
<tr>
<td>ye</td>
<td>从光标处复制至一个单子/单词的末尾，不包括空格</td>
<td></td>
</tr>
<tr>
<td>y$</td>
<td>从当前光标复制到行末</td>
<td></td>
</tr>
<tr>
<td>y0</td>
<td>从当前光标位置（不包括光标位置）复制之行首</td>
<td></td>
</tr>
<tr>
<td>y3l</td>
<td>从光标位置（包括光标位置）向右复制3个字符</td>
<td></td>
</tr>
<tr>
<td>y5G</td>
<td>将当前行（包括当前行）至第5行（不包括它）复制</td>
<td></td>
</tr>
<tr>
<td>y3B</td>
<td>从当前光标位置（不包括光标位置）反向复制3个单词</td>
<td></td>
</tr>
</tbody></table>
<h2 id="粘贴"><a href="#粘贴" class="headerlink" title="粘贴"></a>粘贴</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>p</td>
<td>小写p代表贴至游标后（下），因为游标是在具体字符的位置上，所以实际是在该字符的后面</td>
</tr>
<tr>
<td>P</td>
<td>大写P代表贴至游标前（上）</td>
</tr>
</tbody></table>
<p>整行的复制粘贴在游标的上（下）一行，非整行的复制则是粘贴在游标的前（后）.</p>
<h2 id="撤销与恢复"><a href="#撤销与恢复" class="headerlink" title="撤销与恢复"></a>撤销与恢复</h2><ul>
<li><code>u</code>   撤销上一步的操作 </li>
<li><code>Ctrl+r</code> 恢复上一步被撤销的操作</li>
</ul>
<h2 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h2><p>利用<code>:substitute</code>命令, 可以将指定的字符替换成其他字符. 通常, 我们会使用命令的缩写形式<code>:s</code>, 格式如下:</p>
<p><code>:[range] s/search/replace/[flags] [count]</code></p>
<p>其中, range是指定范围, 也就是在那些行做替换. 而后是将字符串from替换成字符串to.</p>
<h3 id="替换标记"><a href="#替换标记" class="headerlink" title="替换标记"></a>替换标记</h3><p>默认情况下, 替换命令仅将本行中第一个出现的字符替换成给定字符. 如果我们想要将所有的字符都替换成给定字符, 可以在命令中使用g(global)标记:</p>
<p><code>:%s/from/to/g</code></p>
<p>标记(flags)包括: </p>
<ul>
<li><p>  g(global): 将所有的字符都替换成给定字符</p>
</li>
<li><p>p(print): 是要求打印所做的改动</p>
</li>
<li><p>c(confirm): 是要求在做出改动以前先询问</p>
</li>
<li><p>i(ignorecase): 不区分大小写</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">:1,$ s/Professor/Teacher/gc	# 显示将要做改动的文本并要求确认</span><br><span class="line">replace with Teacher (y/n/a/q/l/^E/^Y)?	# 提示</span><br><span class="line"><span class="meta">#</span><span class="bash"> y Yes：执行这个替换</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> n No：取消这个替换</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> a All：执行所有替换而不要再询问</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> q Quit：退出而不做任何改动</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> l Last：替换完当前匹配点后退出</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> CTRL-E 向上翻滚一行</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> CTRL-Y 向下翻滚一行</span></span><br></pre></td></tr></table></figure>

<h2 id="指定范围"><a href="#指定范围" class="headerlink" title="指定范围"></a>指定范围</h2><ul>
<li>默认当前行</li>
<li>$ : 至文档结尾</li>
<li>% : 整个文件</li>
</ul>
<p>如果没有在命令中指定范围, 那么将只会在当前行进行替换操作. 以下命令将把当前行中的I替换为We. 命令中的/i标记, 用于指定忽略大小写.</p>
<p><code>:s/I/We/gi</code></p>
<p>以下命令将文中所有的字符串idiots替换成managers:</p>
<p><code>:1,$s/idiots/managers/g</code></p>
<p>通常我们用%指代整个文件作为替换范围:</p>
<p><code>:%s/search/replace/g</code></p>
<p>以下命令指定只在第5 - 15行间进行替换:</p>
<p><code>:5,15s/dog/cat/g</code></p>
<p>以下命令指定只在当前行在内的以下四行内进行替换:</p>
<p><code>:s/hello/hi/g4</code></p>
<p>以下命令指定只在后续9行内进行替换:</p>
<p><code>:,.+8s/dog/cat/g</code></p>
<p>你还可以将特定字符做为替换范围。比如，将SQL语句从FROM至分号部分中的所有等号（=）替换为不等号（&lt;&gt;）：</p>
<p><code>:/FORM/,/;/=/&lt;&gt;/g</code></p>
<h2 id="可视化选择复制"><a href="#可视化选择复制" class="headerlink" title="可视化选择复制"></a>可视化选择复制</h2><p>在可视化模式下, 首先选择替换范围, 然后输入 : 进入命令模式, 就可以利用s命令在选中的范围内进行文本替换.</p>
<h2 id="精确替换"><a href="#精确替换" class="headerlink" title="精确替换"></a>精确替换</h2><p>在搜索sig时, 也将匹配sig, signature, signing等多个单词. 如果希望精确替换某个单词, 可以使用<code>\&lt;</code>来匹配单词的开头, 并用<code>\&gt;</code>匹配单词的结尾:</p>
<p><code>:s/\&lt;term\&gt;/replace/gc</code></p>
<h2 id="多项替换"><a href="#多项替换" class="headerlink" title="多项替换"></a>多项替换</h2><p>如果想将单词Kang和Kodos都替换为alien, 那么可以使用 | 进行多项替换:</p>
<p><code>%s/Kang\|Kodos/alien/gc</code></p>
<h2 id="变量替换"><a href="#变量替换" class="headerlink" title="变量替换"></a>变量替换</h2><p>使用以下命令可以将文字替换为变量的内容:</p>
<p><code>%s!\~!\= expand($HOME)!g</code></p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
<th align="left">中文</th>
</tr>
</thead>
<tbody><tr>
<td><code>:%s/old/new/g</code></td>
<td>Replace all occurences of <em>old</em> by <em>new</em> in file</td>
<td align="left">使用 new 替换文件所有出现的 old</td>
</tr>
<tr>
<td><code>:%s/onward/forward/gi</code></td>
<td>Replace onward by forward, case unsensitive</td>
<td align="left">使用 forward 替换掉 onward，大小写不敏感</td>
</tr>
<tr>
<td><code>:%s/old/new/gc</code></td>
<td>Replace all occurences with confirmation</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:2,35s/old/new/g</code></td>
<td>Replace all occurences between lines 2 and 35</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:5,$s/old/new/g</code></td>
<td>Replace all occurences from line 5 to EOF</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:%s/^/hello/g</code></td>
<td>Replace the begining of each line by <em>hello</em></td>
<td align="left"></td>
</tr>
<tr>
<td><code>:%s/$/Harry/g</code></td>
<td>Replace the end of each line by <em>Harry</em></td>
<td align="left"></td>
</tr>
<tr>
<td><code>:%s/onward/forward/gi</code></td>
<td>Replace <em>onward</em> by <em>forward</em>, case unsensitive</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:%s/ *$//g</code></td>
<td>Delete all white spaces</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:g/string/d</code></td>
<td>Delete all lines containing <em>string</em></td>
<td align="left"></td>
</tr>
<tr>
<td><code>:v/string/d</code></td>
<td>Delete all lines containing which didn’t contain <em>string</em></td>
<td align="left"></td>
</tr>
<tr>
<td><code>:s/Bill/Steve/</code></td>
<td>Replace the first occurence of <em>Bill</em> by <em>Steve</em> in current line</td>
<td align="left">用Steve替换每一行的第一个Bill</td>
</tr>
<tr>
<td><code>:s/Bill/Steve/g</code></td>
<td>Replace <em>Bill</em> by <em>Steve</em> in current line</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:%s/Bill/Steve</code></td>
<td></td>
<td align="left">使用Steve替换所有行的第一个Bill</td>
</tr>
<tr>
<td><code>:%s/Bill/Steve/g</code></td>
<td>Replace <em>Bill</em> by <em>Steve</em> in all the file</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:%s/^M//g</code></td>
<td>Delete DOS carriage returns (^M)</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:%s/\r/\r/g</code></td>
<td>Transform DOS carriage returns in returns</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:%s#&lt;[^&gt;]\+&gt;##g</code></td>
<td>Delete HTML tags but keeps text</td>
<td align="left"></td>
</tr>
<tr>
<td><code>:%s/^\(.*\)\n\1$/\1/</code></td>
<td>Delete lines which appears twice</td>
<td align="left"></td>
</tr>
<tr>
<td><code>Ctrl+a</code></td>
<td>Increment number under the cursor</td>
<td align="left"></td>
</tr>
<tr>
<td><code>Ctrl+x</code></td>
<td>Decrement number under cursor</td>
<td align="left"></td>
</tr>
<tr>
<td><code>ggVGg?</code></td>
<td>Change text to Rot13</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">:s/Linux/RHEL5		# 指将当前行中的第一个linux换为RHEL5</span><br><span class="line">:s/Linux/RHEL5/g	# 指将当前行中所有的linux换为RHEL5</span><br><span class="line">:%s/Linux/RHEL5		# 指将文件中每一行的第一个linux换为RHEL5</span><br><span class="line">:%s/Linux/RHEL5/g	# 整个文档范围内的linux换为RHEL5</span><br></pre></td></tr></table></figure>



<h2 id="大小写"><a href="#大小写" class="headerlink" title="大小写"></a>大小写</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>Vu</code></td>
<td>Lowercase line</td>
</tr>
<tr>
<td><code>VU</code></td>
<td>Uppercase line</td>
</tr>
<tr>
<td><code>g~~</code></td>
<td>Invert case</td>
</tr>
<tr>
<td><code>vEU</code></td>
<td>Switch word to uppercase</td>
</tr>
<tr>
<td><code>vE~</code></td>
<td>Modify word case</td>
</tr>
<tr>
<td><code>ggguG</code></td>
<td>Set all text to lowercase</td>
</tr>
<tr>
<td><code>gggUG</code></td>
<td>Set all text to uppercase</td>
</tr>
<tr>
<td><code>:set ignorecase</code></td>
<td>Ignore case in searches</td>
</tr>
<tr>
<td><code>:set smartcase</code></td>
<td>Ignore case in searches excepted if an uppercase letter is used</td>
</tr>
<tr>
<td><code>:%s/\&lt;./\u&amp;/g</code></td>
<td>Sets first letter of each word to uppercase</td>
</tr>
<tr>
<td><code>:%s/\&lt;./\l&amp;/g</code></td>
<td>Sets first letter of each word to lowercase</td>
</tr>
<tr>
<td><code>:%s/.*/\u&amp;</code></td>
<td>Sets first letter of each line to uppercase</td>
</tr>
<tr>
<td><code>:%s/.*/\l&amp;</code></td>
<td>Sets first letter of each line to lowercase</td>
</tr>
</tbody></table>
<h2 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:1,10 w outfile</code></td>
<td>Saves lines 1 to 10 in <em>outfile</em></td>
</tr>
<tr>
<td><code>:1,10 w &gt;&gt; outfile</code></td>
<td>Appends lines 1 to 10 to <em>outfile</em></td>
</tr>
<tr>
<td><code>:r infile</code></td>
<td>Insert the content of <em>infile</em></td>
</tr>
<tr>
<td><code>:23r infile</code></td>
<td>Insert the content of <em>infile</em> under line 23</td>
</tr>
</tbody></table>
<h2 id="文件浏览器"><a href="#文件浏览器" class="headerlink" title="文件浏览器"></a>文件浏览器</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:e .</code></td>
<td>Open integrated file explorer</td>
</tr>
<tr>
<td><code>:Sex</code></td>
<td>Split window and open integrated file explorer</td>
</tr>
<tr>
<td><code>:Sex!</code></td>
<td>Same as <em>:Sex</em> but split window vertically</td>
</tr>
<tr>
<td><code>:browse e</code></td>
<td>Graphical file explorer</td>
</tr>
<tr>
<td><code>:ls</code></td>
<td>List buffers</td>
</tr>
<tr>
<td><code>:cd ..</code></td>
<td>Move to parent directory</td>
</tr>
<tr>
<td><code>:args</code></td>
<td>List files</td>
</tr>
<tr>
<td><code>:args *.php</code></td>
<td>Open file list</td>
</tr>
<tr>
<td><code>:grep expression *.php</code></td>
<td>Returns a list of .php files contening <em>expression</em></td>
</tr>
<tr>
<td><code>gf</code></td>
<td>Open file name under cursor</td>
</tr>
</tbody></table>
<h2 id="和-Unix-系统交互"><a href="#和-Unix-系统交互" class="headerlink" title="和 Unix 系统交互"></a>和 Unix 系统交互</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:!pwd</code></td>
<td>Execute the <em>pwd</em> unix command, then returns to Vi</td>
</tr>
<tr>
<td><code>!!pwd</code></td>
<td>Execute the <em>pwd</em> unix command and insert output in file</td>
</tr>
<tr>
<td><code>:sh</code></td>
<td>Temporary returns to Unix</td>
</tr>
<tr>
<td><code>$exit</code></td>
<td>Retourns to Vi</td>
</tr>
</tbody></table>
<h2 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:%!fmt</code></td>
<td>Align all lines</td>
</tr>
<tr>
<td><code>!&#125;fmt</code></td>
<td>Align all lines at the current position</td>
</tr>
<tr>
<td><code>5!!fmt</code></td>
<td>Align the next 5 lines</td>
</tr>
</tbody></table>
<h2 id="Tabs-Windows"><a href="#Tabs-Windows" class="headerlink" title="Tabs/Windows"></a>Tabs/Windows</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:tabnew</code></td>
<td>Creates a new tab</td>
</tr>
<tr>
<td><code>gt</code></td>
<td>Show next tab</td>
</tr>
<tr>
<td><code>:tabfirst</code></td>
<td>Show first tab</td>
</tr>
<tr>
<td><code>:tablast</code></td>
<td>Show last tab</td>
</tr>
<tr>
<td><code>:tabm n(position)</code></td>
<td>Rearrange tabs</td>
</tr>
<tr>
<td><code>:tabdo %s/foo/bar/g</code></td>
<td>Execute a command in all tabs</td>
</tr>
<tr>
<td><code>:tab ball</code></td>
<td>Puts all open files in tabs</td>
</tr>
<tr>
<td><code>:new abc.txt</code></td>
<td>Edit <em>abc.txt</em> in new window</td>
</tr>
</tbody></table>
<h2 id="多文件"><a href="#多文件" class="headerlink" title="多文件"></a>多文件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="分屏显示"><a href="#分屏显示" class="headerlink" title="分屏显示"></a>分屏显示</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:e filename</code></td>
<td>Edit <em>filename</em> in current window</td>
</tr>
<tr>
<td><code>:split filename</code></td>
<td>Split the window and open <em>filename</em></td>
</tr>
<tr>
<td><code>ctrl-w up arrow</code></td>
<td>Puts cursor in top window</td>
</tr>
<tr>
<td><code>ctrl-w ctrl-w</code></td>
<td>Puts cursor in next window</td>
</tr>
<tr>
<td><code>ctrl-w_</code></td>
<td>Maximize current window vertically</td>
</tr>
<tr>
<td><code>ctrl-w|</code></td>
<td>Maximize current window horizontally</td>
</tr>
<tr>
<td><code>ctrl-w=</code></td>
<td>Gives the same size to all windows</td>
</tr>
<tr>
<td><code>10 ctrl-w+</code></td>
<td>Add 10 lines to current window</td>
</tr>
<tr>
<td><code>:vsplit file</code></td>
<td>Split window vertically</td>
</tr>
<tr>
<td><code>:sview file</code></td>
<td>Same as <strong>:split</strong> in readonly mode</td>
</tr>
<tr>
<td><code>:hide</code></td>
<td>Close current window</td>
</tr>
<tr>
<td><code>:­nly</code></td>
<td>Close all windows, excepted current</td>
</tr>
<tr>
<td><code>:b 2</code></td>
<td>Open #2 in this window</td>
</tr>
</tbody></table>
<h3 id="调整窗口大小"><a href="#调整窗口大小" class="headerlink" title="调整窗口大小"></a>调整窗口大小</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 高度</span></span></span><br><span class="line">:resize 60</span><br><span class="line">:res 60</span><br><span class="line">:res +5</span><br><span class="line">:res -5</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 宽度</span></span></span><br><span class="line">:vertical resize 80</span><br><span class="line">:vertical resize +5</span><br><span class="line">:vertical resize -5</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># hot key</span></span></span><br><span class="line">nnoremap &lt;silent&gt; &lt;Leader&gt;+ :exe &quot;resize &quot; . (winheight(0) * 3/2)&lt;CR&gt;</span><br><span class="line">nnoremap &lt;silent&gt; &lt;Leader&gt;- :exe &quot;resize &quot; . (winheight(0) * 2/3)&lt;CR&gt;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># ps</span></span></span><br><span class="line">default &lt;Leader&gt; is \</span><br></pre></td></tr></table></figure>

<h2 id="自动完成"><a href="#自动完成" class="headerlink" title="自动完成"></a>自动完成</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>Ctrl+n Ctrl+p (in insert mode)</code></td>
<td>Complete word</td>
</tr>
<tr>
<td><code>Ctrl+x Ctrl+l</code></td>
<td>Complete line</td>
</tr>
<tr>
<td><code>:set dictionary=dict</code></td>
<td>Define <em>dict</em> as a dictionnary</td>
</tr>
<tr>
<td><code>Ctrl+x Ctrl+k</code></td>
<td>Complete with dictionnary</td>
</tr>
</tbody></table>
<h2 id="Marks"><a href="#Marks" class="headerlink" title="Marks"></a>Marks</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>m &#123;a-z&#125;</code></td>
<td>Marks current position as <em>{a-z}</em></td>
</tr>
<tr>
<td><code>&#39; &#123;a-z&#125;</code></td>
<td>Move to position <em>{a-z}</em></td>
</tr>
<tr>
<td><code>&#39;&#39;</code></td>
<td>Move to previous position</td>
</tr>
</tbody></table>
<h2 id="缩写"><a href="#缩写" class="headerlink" title="缩写"></a>缩写</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:ab mail mail@provider.org</code></td>
<td>Define <em>mail</em> as abbreviation of <em><a href="mailto:&#x6d;&#x61;&#105;&#x6c;&#x40;&#x70;&#x72;&#x6f;&#x76;&#105;&#x64;&#x65;&#114;&#46;&#111;&#x72;&#x67;">&#x6d;&#x61;&#105;&#x6c;&#x40;&#x70;&#x72;&#x6f;&#x76;&#105;&#x64;&#x65;&#114;&#46;&#111;&#x72;&#x67;</a></em></td>
</tr>
</tbody></table>
<h2 id="文本缩进"><a href="#文本缩进" class="headerlink" title="文本缩进"></a>文本缩进</h2><p><strong>缩进多行</strong></p>
<ul>
<li>按v进入visual状态，选择多行，用&gt;或&lt;缩进或缩出.</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:set autoindent</code></td>
<td>Turn on auto-indent</td>
</tr>
<tr>
<td><code>:set smartindent</code></td>
<td>Turn on intelligent auto-indent</td>
</tr>
<tr>
<td><code>:set shiftwidth=4</code></td>
<td>Defines 4 spaces as indent size</td>
</tr>
<tr>
<td><code>ctrl-t, ctrl-d</code></td>
<td>Indent/un-indent in insert mode</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>Indent</td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>Un-indent</td>
</tr>
<tr>
<td><code>=%</code></td>
<td>Indent the code between parenthesis</td>
</tr>
<tr>
<td><code>1GVG=</code></td>
<td>Indent the whole file</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 缩进指定行</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> In <span class="built_in">command</span> mode</span></span><br><span class="line"><span class="meta">5&gt;</span><span class="bash">&gt;</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> In Visual Mode</span></span><br><span class="line">j	# 下一行</span><br><span class="line">j	# 下一行</span><br><span class="line">j	# 下一行</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">	<span class="comment"># 缩进</span></span></span><br></pre></td></tr></table></figure>

<h2 id="语法高亮"><a href="#语法高亮" class="headerlink" title="语法高亮"></a>语法高亮</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>:syntax on</code></td>
<td>Turn on syntax highlighting</td>
</tr>
<tr>
<td><code>:syntax off</code></td>
<td>Turn off syntax highlighting</td>
</tr>
<tr>
<td><code>:set syntax=perl</code></td>
<td>Force syntax highlighting</td>
</tr>
</tbody></table>
<h2 id="重复执行"><a href="#重复执行" class="headerlink" title="重复执行"></a>重复执行</h2><ul>
<li><code>.</code>： 命令可以重复上次普通命令</li>
<li><code>@</code>： 重复上次ex命令。</li>
<li><code>@@</code>： 重复执行。</li>
</ul>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/maowang1991/p/3572299.html">参考一</a></li>
</ul>
<h2 id="示例配置"><a href="#示例配置" class="headerlink" title="示例配置"></a>示例配置</h2><h3 id="一"><a href="#一" class="headerlink" title="一"></a>一</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">&quot;设置语言为英文</span><br><span class="line">let $LANG = &#x27;en&#x27;  &quot;set message language  </span><br><span class="line">set langmenu=en   &quot;set menu&#x27;s language of gvim. no spaces beside &#x27;=&#x27; </span><br><span class="line"></span><br><span class="line">&quot;兼容性设置</span><br><span class="line">set nocompatible</span><br><span class="line">set backspace=indent,eol,start</span><br><span class="line"></span><br><span class="line">&quot;if has(&quot;win32&quot;)</span><br><span class="line">&quot;	set encoding=gbk</span><br><span class="line">&quot;	set fileencoding=ansi</span><br><span class="line">&quot;	set termencoding=gbk</span><br><span class="line">&quot;else</span><br><span class="line">&quot;	set encoding=utf-8</span><br><span class="line">&quot;	set fileencoding=ansi</span><br><span class="line">&quot;	set termencoding=utf-8</span><br><span class="line">&quot;endif</span><br><span class="line"></span><br><span class="line">:filetype plugin indent on		&quot;打开文件类型检测</span><br><span class="line">set showcmd						&quot;在Vim窗口的右下角显示一个完整的命令已经完成的部分</span><br><span class="line">set completeopt=longest,menu	&quot;打开文件类型检测, 加了这句才可以用智能补全</span><br><span class="line">set mouse=a						&quot;使用鼠标</span><br><span class="line">set selection=exclusive</span><br><span class="line">set selectmode=mouse,key</span><br><span class="line">set tabstop=4					&quot;设置tab</span><br><span class="line">set softtabstop=4</span><br><span class="line">set shiftwidth=4</span><br><span class="line">syntax on						&quot;语法高亮</span><br><span class="line">set showcmd						&quot;显示输入的命令</span><br><span class="line">set autoindent					&quot;自动缩进</span><br><span class="line">set	cindent</span><br><span class="line">set smartindent</span><br><span class="line">set showmatch					&quot;高亮显示匹配的括号</span><br><span class="line">set number 						&quot;显示行号</span><br><span class="line">colorscheme desert				&quot;设置配色方案</span><br><span class="line">set guifont=consolas			&quot;设置字体</span><br><span class="line">&quot;set guifont=Courier_New:h12:b  &quot;设置字体示例</span><br><span class="line">set history=1000				&quot;设置历史</span><br><span class="line">&quot;设置状态栏</span><br><span class="line">set laststatus=2</span><br><span class="line">set statusline=%F%m%r%h%w\ [FORMAT=%&#123;&amp;ff&#125;]\ [TYPE=%Y]\[POS=%l,%v][%p%%]\ %&#123;strftime(\&quot;%d/%m/%y\ -\ %H:%M\&quot;)&#125; </span><br><span class="line"></span><br><span class="line">autocmd GUIEnter * simalt ~x 	&quot;窗口最大化</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;自定义函数 - 新建文件时自动添加头部信息或者按F10添加头信息</span><br><span class="line">&quot;新建.c,.h,.sh,.java文件，自动插入文件头 </span><br><span class="line">autocmd BufNewFile *.cpp,*.[ch],*.sh,*.java exec &quot;:call AppendHeadInfo()&quot; </span><br><span class="line">map&lt;F10&gt; :call AppendHeadInfo()&lt;CR&gt;</span><br><span class="line">&quot;定义函数AppendHeadInfo，自动插入文件头 </span><br><span class="line">func AppendHeadInfo() </span><br><span class="line">	&quot;如果文件类型为.sh文件 </span><br><span class="line">	let filename=expand(&quot;%&quot;)</span><br><span class="line">	let len=strlen(filename)</span><br><span class="line">	let posPoint=strridx(filename,&#x27;.&#x27;)</span><br><span class="line">	let fileformat=strpart(filename,posPoint+1,len)</span><br><span class="line">	if fileformat == &#x27;sh&#x27; </span><br><span class="line">		call setline(1,&quot;\#########################################################################&quot;) </span><br><span class="line">		call append(line(&quot;.&quot;), &quot;\# File Name: &quot;.expand(&quot;%&quot;)) </span><br><span class="line">		call append(line(&quot;.&quot;)+1, &quot;\# Author: bovenson&quot;) </span><br><span class="line">		call append(line(&quot;.&quot;)+2, &quot;\# Email:  szhkai@126.com&quot;) </span><br><span class="line">		call append(line(&quot;.&quot;)+3, &quot;\# Created Time: &quot;.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)) </span><br><span class="line">		call append(line(&quot;.&quot;)+4, &quot;\#########################################################################&quot;) </span><br><span class="line">		call append(line(&quot;.&quot;)+5, &quot;\#!/bin/bash&quot;) </span><br><span class="line">		call append(line(&quot;.&quot;)+6, &quot;&quot;) </span><br><span class="line">	else </span><br><span class="line">		call setline(1, &quot;\/*************************************************************************&quot;) </span><br><span class="line">		call append(line(&quot;.&quot;), &quot;	&gt; File Name: &quot;.expand(&quot;%&quot;)) </span><br><span class="line">		call append(